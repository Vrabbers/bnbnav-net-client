<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="600"
             x:Class="BnbnavNetClient.Views.CornerView"
             x:DataType="viewModels:CornerViewModel"
             xmlns:str="using:BnbnavNetClient.I18Next"
             xmlns:viewModels="clr-namespace:BnbnavNetClient.ViewModels"
             xmlns:controls="clr-namespace:BnbnavNetClient.Controls"
             xmlns:views="clr-namespace:BnbnavNetClient.Views"
             x:CompileBindings="True">
    <StackPanel Width="400">
        <StackPanel IsVisible="{Binding IsInSearchMode}">
            <controls:LandmarkSearchControl SelectedLandmark="{Binding SelectedLandmark}" MapService="{Binding MapService}" />
            <StackPanel IsVisible="{Binding SelectedLandmark, Converter={x:Static ObjectConverters.IsNotNull}}" VerticalAlignment="Stretch">
                <TextBlock Text="Selected Landmark:"></TextBlock>
                <TextBlock Text="{Binding SelectedLandmark.Name, FallbackValue=.}"></TextBlock>
                <TextBlock Text="{Binding SelectedLandmark.HumanReadableType, FallbackValue=.}"></TextBlock>
                <Button Content="{str:Tr Key=LANDMARK_GET_DIRECTIONS}" Command="{Binding GetDirectionsToSelectedLandmark}" />
            </StackPanel>
        </StackPanel>
        
        <DockPanel IsVisible="{Binding IsInPrepareMode}">
            <Button DockPanel.Dock="Left" Command="{Binding LeavePrepareMode}" VerticalAlignment="Top" Classes="icon">
                <PathIcon Data="{StaticResource arrow_left_regular}" />
            </Button>
            <StackPanel>
                <controls:LandmarkSearchControl SelectedLandmark="{Binding GoModeStartPoint}" MapService="{Binding MapService}" />
                <controls:LandmarkSearchControl SelectedLandmark="{Binding GoModeEndPoint}" MapService="{Binding MapService}" />
                
                <StackPanel>
                    <Button Content="{str:Tr Key=ROUTE_OPTIONS}">
                        <Button.Flyout>
                            <Flyout>
                                <StackPanel>
                                    <CheckBox IsChecked="{Binding AvoidTolls}" IsEnabled="False">
                                        <StackPanel Orientation="Horizontal">
                                            <PathIcon Data="{StaticResource money_regular}"/>
                                            <TextBlock Text="{str:Tr Key=ROUTE_AVOID_TOLLS}"></TextBlock>
                                        </StackPanel>
                                    </CheckBox>
                                    <CheckBox IsChecked="{Binding AvoidMotorways}">
                                        <StackPanel Orientation="Horizontal">
                                            <PathIcon Data="{StaticResource top_speed_regular}"/>
                                            <TextBlock Text="{str:Tr Key=ROUTE_AVOID_MOTORWAYS}"></TextBlock>
                                        </StackPanel>
                                    </CheckBox>
                                    <CheckBox IsChecked="{Binding AvoidDuongWarp}">
                                        <StackPanel Orientation="Horizontal">
                                            <PathIcon Data="{StaticResource balloon_regular}"/>
                                            <TextBlock Text="{str:Tr Key=ROUTE_AVOID_WARP}"></TextBlock>
                                        </StackPanel>
                                    </CheckBox>
                                    <CheckBox IsChecked="{Binding AvoidFerries}" IsEnabled="False">
                                        <StackPanel Orientation="Horizontal">
                                            <PathIcon Data="{StaticResource vehicle_ship_regular}"/>
                                            <TextBlock Text="{str:Tr Key=ROUTE_AVOID_FERRIES}"></TextBlock>
                                        </StackPanel>
                                    </CheckBox>
                                </StackPanel>
                            </Flyout>
                        </Button.Flyout>
                    </Button>
                </StackPanel>
                
                <StackPanel IsVisible="{Binding CalculatingRoute}" Margin="6">
                    <ProgressBar IsIndeterminate="True" />
                    <TextBlock Text="{str:Tr Key=DIRECTIONS_CALCULATING}" HorizontalAlignment="Center" />
                </StackPanel>
                <StackPanel IsVisible="{Binding RouteCalculationError, Converter={x:Static ObjectConverters.IsNotNull}}" Margin="6">
                    <PathIcon Data="{StaticResource warning_regular}"/>
                    <TextBlock Text="{Binding RouteCalculationError}" HorizontalAlignment="Center" />
                </StackPanel>
                
                <StackPanel Orientation="Horizontal" IsVisible="{Binding MapService.CurrentRoute.RouteContainsTolls, FallbackValue=False}" Margin="0 3 0 3">
                    <PathIcon Data="{StaticResource money_regular}"/>
                    <TextBlock Text="{str:Tr Key=ROUTE_WARNING_HAVE_TOLLS}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" IsVisible="{Binding MapService.CurrentRoute.RouteContainsFerries, FallbackValue=False}" Margin="0 3 0 3">
                    <PathIcon Data="{StaticResource vehicle_ship_regular}"/>
                    <TextBlock Text="{str:Tr Key=ROUTE_WARNING_HAVE_FERRIES}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" IsVisible="{Binding MapService.CurrentRoute.RouteContainsDuongWarp, FallbackValue=False}" Margin="0 3 0 3">
                    <PathIcon Data="{StaticResource balloon_regular}"/>
                    <TextBlock Text="{str:Tr Key=ROUTE_WARNING_HAVE_WARP}" />
                </StackPanel>
                
                <ListBox Items="{Binding MapService.CurrentRoute.Instructions}" MaxHeight="300">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <controls:InstructionDisplayControl Instruction="{Binding}" />
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                <Button Content="{str:Tr Key=START}" IsVisible="{Binding MapService.CurrentRoute, Converter={x:Static ObjectConverters.IsNotNull}}" Command="{Binding EnterGoMode}" />
            </StackPanel>
        </DockPanel>
        
        <DockPanel IsVisible="{Binding IsInGoMode}">
            <Button Classes="icon" Command="{Binding LeaveGoMode}" VerticalAlignment="Top" DockPanel.Dock="Left">
                <PathIcon Data="{StaticResource arrow_left_regular}" />
            </Button>
            <Border CornerRadius="8">
                <Grid RowDefinitions="Auto Auto">
                    <Grid ColumnDefinitions="*" Margin="0">
                        <controls:InstructionDisplayControl InnerMargin="6" Instruction="{Binding CurrentInstruction}" ToNextInstruction="{Binding BlocksToNextInstruction}" Classes="gomodeactiveinstruction" IsVisible="{Binding CurrentInstructionValid}" />
                        <Border Grid.Column="0" IsVisible="{Binding CalculatingRoute}" Classes="gomodeactivesuspended" >
                            <TextBlock Text="{str:Tr Key=DIRECTIONS_CALCULATING}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <Border Grid.Column="0" IsVisible="{Binding RouteCalculationError, Converter={x:Static ObjectConverters.IsNotNull}}" Classes="gomodeactivesuspended">
                            <TextBlock Text="{Binding RouteCalculationError}" HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </Grid>
                    <Border Grid.Row="1" Classes="gomodefooter">
                        <StackPanel Orientation="Horizontal" Margin="3" Spacing="3">
                            <TextBlock Text="{Binding BlocksToRouteEnd}" />
                            <PathIcon Data="{StaticResource money_regular}" IsVisible="{Binding MapService.CurrentRoute.RouteContainsTolls, FallbackValue=False}" />
                            <PathIcon Data="{StaticResource vehicle_ship_regular}" IsVisible="{Binding MapService.CurrentRoute.RouteContainsFerries, FallbackValue=False}" />
                            <PathIcon Data="{StaticResource balloon_regular}" IsVisible="{Binding MapService.CurrentRoute.RouteContainsDuongWarp, FallbackValue=False}" />
                        </StackPanel>
                    </Border>
                </Grid>

            </Border>
        </DockPanel>
    </StackPanel>
    <UserControl.Resources>
        <StreamGeometry x:Key="warning_regular">M10.9093922,2.78216375 C11.9491636,2.20625071 13.2471955,2.54089334 13.8850247,3.52240345 L13.9678229,3.66023048 L21.7267791,17.6684928 C21.9115773,18.0021332 22.0085303,18.3772743 22.0085303,18.7586748 C22.0085303,19.9495388 21.0833687,20.9243197 19.9125791,21.003484 L19.7585303,21.0086748 L4.24277801,21.0086748 C3.86146742,21.0086748 3.48641186,20.9117674 3.15282824,20.7270522 C2.11298886,20.1512618 1.7079483,18.8734454 2.20150311,17.8120352 L2.27440063,17.668725 L10.0311968,3.66046274 C10.2357246,3.291099 10.5400526,2.98673515 10.9093922,2.78216375 Z M20.4146132,18.3952808 L12.6556571,4.3870185 C12.4549601,4.02467391 11.9985248,3.89363262 11.6361802,4.09432959 C11.5438453,4.14547244 11.4637001,4.21532637 11.4006367,4.29899869 L11.3434484,4.38709592 L3.58665221,18.3953582 C3.385998,18.7577265 3.51709315,19.2141464 3.87946142,19.4148006 C3.96285732,19.4609794 4.05402922,19.4906942 4.14802472,19.5026655 L4.24277801,19.5086748 L19.7585303,19.5086748 C20.1727439,19.5086748 20.5085303,19.1728883 20.5085303,18.7586748 C20.5085303,18.6633247 20.4903516,18.5691482 20.455275,18.4811011 L20.4146132,18.3952808 L12.6556571,4.3870185 L20.4146132,18.3952808 Z M12.0004478,16.0017852 C12.5519939,16.0017852 12.9991104,16.4489016 12.9991104,17.0004478 C12.9991104,17.5519939 12.5519939,17.9991104 12.0004478,17.9991104 C11.4489016,17.9991104 11.0017852,17.5519939 11.0017852,17.0004478 C11.0017852,16.4489016 11.4489016,16.0017852 12.0004478,16.0017852 Z M11.9962476,8.49954934 C12.3759432,8.49924613 12.689964,8.78114897 12.7399193,9.14718469 L12.7468472,9.24894974 L12.750448,13.7505438 C12.7507788,14.1647572 12.4152611,14.5008121 12.0010476,14.5011439 C11.621352,14.5014471 11.3073312,14.2195442 11.257376,13.8535085 L11.250448,13.7517435 L11.2468472,9.25014944 C11.2465164,8.83593601 11.5820341,8.49988112 11.9962476,8.49954934 Z</StreamGeometry>
        <StreamGeometry x:Key="arrow_left_regular">M12.7347,4.20949 C13.0332,3.92233 13.508,3.93153 13.7952,4.23005 C14.0823,4.52857 14.0731,5.00335 13.7746,5.29051 L5.50039,13.25 L24.2532,13.25 C24.6674,13.25 25.0032,13.5858 25.0032,13.9999982 C25.0032,14.4142 24.6674,14.75 24.2532,14.75 L5.50137,14.75 L13.7746,22.7085 C14.0731,22.9957 14.0823,23.4705 13.7952,23.769 C13.508,24.0675 13.0332,24.0767 12.7347,23.7896 L3.30673,14.7202 C2.89776,14.3268 2.89776,13.6723 3.30673,13.2788 L12.7347,4.20949 Z</StreamGeometry>
        <StreamGeometry x:Key="top_speed_regular">M10.0492532,15.4208574 L16.3060077,6.94493547 C16.5131405,6.66433611 16.8962754,6.58091825 17.2013158,6.75000494 C17.4758699,6.90219275 17.61052,7.21639422 17.5413028,7.51420559 L17.510592,7.61262428 L13.6405266,17.4116224 C13.2205308,18.475051 12.0179777,18.9966563 10.9545491,18.5766605 C10.8710782,18.543694 10.7898393,18.5053348 10.7113465,18.4618255 C9.71108052,17.9073691 9.34968053,16.6470175 9.904137,15.6467516 L9.97303013,15.5314501 L9.97303013,15.5314501 L10.0492532,15.4208574 L16.3060077,6.94493547 L10.0492532,15.4208574 Z M13.850015,12.7977214 L11.2560655,16.3117019 L11.2160666,16.373966 L11.2160666,16.373966 C11.0632395,16.6496733 11.1628536,16.9970689 11.4385609,17.149896 L11.5055502,17.1815268 L11.5055502,17.1815268 C11.769176,17.2856445 12.0638421,17.1796801 12.2044743,16.9439092 L12.2453929,16.8606213 L13.850015,12.7977214 Z M18.6095174,7.41397033 C19.364068,8.02528183 20.0469718,8.75083284 20.6317275,9.58595046 C21.1562296,10.3350171 21.6612578,11.2420254 21.9517027,11.9842912 C22.1026388,12.3700259 21.9122969,12.8050834 21.5265623,12.9560194 C21.1408277,13.1069554 20.7057702,12.9166136 20.5548341,12.530879 C20.4575421,12.2822379 20.3277108,12.0046594 20.1775548,11.7190679 L18.1280514,12.9023464 C17.769332,13.1094531 17.3106392,12.9865468 17.1035324,12.6278273 C16.9136845,12.2990011 17.0011393,11.8861696 17.2933389,11.6601229 L17.3780514,11.6033083 L19.3963044,10.4364308 L19.1658779,10.1227204 C18.8419948,9.70016342 18.4876665,9.31329453 18.1081562,8.96304177 L18.4883177,7.99876394 C18.5262055,7.90283222 18.5550318,7.80534515 18.5751558,7.70730436 L18.5988599,7.55995309 L18.6095174,7.41397033 Z M15.9809484,5.85271523 C15.8318986,5.9392755 15.694531,6.04936208 15.5743759,6.18134222 L15.4601633,6.32055973 L14.919203,7.05349635 C14.2174399,6.80955942 13.4886764,6.6517272 12.7502416,6.58305531 L12.75,9.25589923 C12.75,9.6701128 12.4142136,10.0058992 12,10.0058992 C11.6203042,10.0058992 11.306509,9.72374535 11.2568466,9.35766979 L11.25,9.25589923 L11.2496135,6.56662077 C9.65294084,6.68015443 8.06551588,7.21425939 6.65889532,8.19918572 C5.84294582,8.77051971 5.13152818,9.52142873 4.54015984,10.4038879 L6.62237477,11.6059717 C6.98109424,11.8130785 7.1040006,12.2717713 6.89689382,12.6304908 C6.70704594,12.959317 6.30579591,13.0899946 5.96393397,12.9499658 L5.87237477,12.9050099 L3.79818254,11.7080227 C3.6704134,11.9742424 3.55177265,12.248307 3.44255853,12.5292935 C3.29249811,12.9153696 2.8578736,13.1066981 2.47179751,12.9566377 C2.08572142,12.8065773 1.89439292,12.3719528 2.04445335,11.9858767 C2.85090303,9.91103954 4.12374054,8.14315832 5.79853067,6.97045765 C8.8904309,4.8054858 12.7328827,4.5119546 15.9809484,5.85271523 Z</StreamGeometry>
        <StreamGeometry x:Key="balloon_regular">M12.0177 5.6645C12.1126 5.26132 12.5165 5.01144 12.9196 5.10638C14.388 5.45214 15.5426 6.60459 15.8915 8.07167C15.9873 8.47464 15.7383 8.87901 15.3353 8.97484C14.9324 9.07068 14.528 8.82169 14.4322 8.41872C14.2146 7.50369 13.4916 6.78209 12.5758 6.56644C12.1726 6.4715 11.9228 6.06769 12.0177 5.6645Z M5 9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9C19 11.025 18.3305 13.2357 17.1504 14.9556C16.1075 16.4755 14.6069 17.687 12.75 17.9479V18.25C12.75 18.6642 13.0858 19 13.5 19H16.75C17.9926 19 19 20.0074 19 21.25V22.25C19 22.6642 18.6642 23 18.25 23C17.8358 23 17.5 22.6642 17.5 22.25V21.25C17.5 20.8358 17.1642 20.5 16.75 20.5H13.5C12.2574 20.5 11.25 19.4926 11.25 18.25V17.9479C9.39312 17.687 7.89247 16.4755 6.84958 14.9556C5.66952 13.2357 5 11.025 5 9ZM12 3.5C8.96243 3.5 6.5 5.96243 6.5 9C6.5 10.7251 7.0795 12.6393 8.08644 14.1069C9.09356 15.5748 10.4527 16.5 12 16.5C13.5473 16.5 14.9064 15.5748 15.9136 14.1069C16.9205 12.6393 17.5 10.7251 17.5 9C17.5 5.96243 15.0376 3.5 12 3.5Z</StreamGeometry>
        <StreamGeometry x:Key="money_regular">M10.5 8C8.84315 8 7.5 9.34315 7.5 11C7.5 12.6569 8.84315 14 10.5 14C12.1569 14 13.5 12.6569 13.5 11C13.5 9.34315 12.1569 8 10.5 8ZM9 11C9 10.1716 9.67157 9.5 10.5 9.5C11.3284 9.5 12 10.1716 12 11C12 11.8284 11.3284 12.5 10.5 12.5C9.67157 12.5 9 11.8284 9 11Z M2 7.25C2 6.00736 3.00736 5 4.25 5H16.75C17.9926 5 19 6.00736 19 7.25V14.75C19 15.9926 17.9926 17 16.75 17H4.25C3.00736 17 2 15.9926 2 14.75V7.25ZM4.25 6.5C3.83579 6.5 3.5 6.83579 3.5 7.25V8H4.25C4.66421 8 5 7.66421 5 7.25V6.5H4.25ZM3.5 12.5H4.25C5.49264 12.5 6.5 13.5074 6.5 14.75V15.5H14.5V14.75C14.5 13.5074 15.5074 12.5 16.75 12.5H17.5V9.5H16.75C15.5074 9.5 14.5 8.49264 14.5 7.25V6.5H6.5V7.25C6.5 8.49264 5.49264 9.5 4.25 9.5H3.5V12.5ZM17.5 8V7.25C17.5 6.83579 17.1642 6.5 16.75 6.5H16V7.25C16 7.66421 16.3358 8 16.75 8H17.5ZM17.5 14H16.75C16.3358 14 16 14.3358 16 14.75V15.5H16.75C17.1642 15.5 17.5 15.1642 17.5 14.75V14ZM3.5 14.75C3.5 15.1642 3.83579 15.5 4.25 15.5H5V14.75C5 14.3358 4.66421 14 4.25 14H3.5V14.75Z M4.40137 18.5C4.92008 19.3967 5.8896 20 7.00002 20H17.25C19.8734 20 22 17.8734 22 15.25V10C22 8.8896 21.3967 7.92008 20.5 7.40137V15.25C20.5 17.0449 19.0449 18.5 17.25 18.5H4.40137Z</StreamGeometry>
        <StreamGeometry x:Key="vehicle_ship_regular">M8.75 2C8.33579 2 8 2.33579 8 2.75V5H5.75C5.33579 5 5 5.33579 5 5.75V10.5145L3.53948 11.0493C3.34238 11.1214 3.18453 11.2729 3.10431 11.4669C3.02408 11.6608 3.02881 11.8795 3.11734 12.0699L5.45174 17.0879C5.61725 17.0333 5.79292 17.0029 5.97409 17.0002C6.53245 16.9919 7.0463 17.2489 7.37649 17.6692L4.82163 12.1772L11.4092 9.76503C11.7931 9.62447 12.214 9.62273 12.599 9.7601L19.3744 12.1776L16.7524 17.5228C17.0809 17.189 17.5388 16.9917 18.0306 17.0003C18.2378 17.0039 18.4377 17.0438 18.6233 17.1146L21.0911 12.0838C21.1852 11.892 21.193 11.6691 21.1126 11.4711C21.0321 11.2732 20.8711 11.1189 20.6698 11.0471L19 10.4514V5.75C19 5.33579 18.6642 5 18.25 5H16V2.75C16 2.33579 15.6642 2 15.25 2H8.75ZM14.5 5H9.5V3.5H14.5V5ZM17.5 6.5V9.91615L13.1031 8.34733C12.3881 8.09222 11.6063 8.09545 10.8934 8.35648L6.5 9.96521V6.5H17.5Z M18.7267 18.5635L18.7242 18.5548C18.6372 18.2324 18.3473 18.006 18.0131 18.0001C17.6782 17.9942 17.3801 18.2112 17.2826 18.5314L17.2822 18.5327L17.2791 18.5419C17.2753 18.5534 17.2686 18.573 17.2589 18.5997C17.2394 18.653 17.2079 18.7335 17.1635 18.832C17.0736 19.0309 16.9354 19.2925 16.7423 19.5496C16.3553 20.065 15.803 20.5 15 20.5C14.1969 20.5 13.6442 20.0649 13.2568 19.5494C13.0635 19.2922 12.9251 19.0306 12.8352 18.8317C12.7906 18.7332 12.7592 18.6527 12.7396 18.5993C12.7298 18.5727 12.7231 18.553 12.7193 18.5415L12.7162 18.5321C12.7161 18.5319 12.7162 18.5322 12.7162 18.5321C12.62 18.216 12.328 17.9995 11.9975 18C11.6671 18.0005 11.3759 18.2171 11.2805 18.5333L11.2802 18.5343L11.2772 18.5434C11.2735 18.5549 11.2668 18.5745 11.2571 18.6011C11.2378 18.6544 11.2066 18.7348 11.1623 18.8332C11.073 19.032 10.9354 19.2933 10.7429 19.5502C10.3573 20.0647 9.80552 20.5 9 20.5C8.1944 20.5 7.6422 20.0646 7.25625 19.55C7.0635 19.293 6.92576 19.0317 6.83629 18.8329C6.792 18.7344 6.76074 18.654 6.74132 18.6007C6.73164 18.5741 6.72498 18.5545 6.72119 18.543L6.71753 18.5317C6.6203 18.2121 6.32321 17.9951 5.9889 18.0001C5.65496 18.005 5.36471 18.2301 5.27662 18.552L5.27395 18.561C5.27084 18.5713 5.2651 18.5896 5.25646 18.6149C5.23914 18.6656 5.21049 18.7432 5.16851 18.8386C5.08376 19.0312 4.94932 19.2859 4.75227 19.5373C4.36808 20.0273 3.75644 20.5 2.75 20.5C2.33579 20.5 2 20.8358 2 21.25C2 21.6642 2.33579 22 2.75 22C4.32356 22 5.33692 21.2227 5.93273 20.4627C5.95592 20.4332 5.9785 20.4036 6.00047 20.3741C6.01866 20.3994 6.03725 20.4247 6.05625 20.45C6.6078 21.1854 7.5556 22 9 22C10.4445 22 11.392 21.1853 11.9432 20.4498C11.9626 20.4239 11.9815 20.3981 12.0001 20.3723C12.0188 20.3983 12.038 20.4245 12.0577 20.4506C12.6097 21.1851 13.5576 22 15 22C16.4424 22 17.3901 21.185 17.9418 20.4504C17.9605 20.4253 17.9789 20.4004 17.9969 20.3754C18.0183 20.4042 18.0403 20.4331 18.0629 20.462C18.6583 21.2234 19.6722 22 21.25 22C21.6642 22 22 21.6642 22 21.25C22 20.8358 21.6642 20.5 21.25 20.5C20.2378 20.5 19.6267 20.0266 19.2446 19.538C19.0483 19.2871 18.9149 19.0328 18.8309 18.8405C18.7893 18.7453 18.761 18.6678 18.7439 18.6173C18.7354 18.5921 18.7298 18.5738 18.7267 18.5635Z</StreamGeometry>
</UserControl.Resources>
</UserControl>
